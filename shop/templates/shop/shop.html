{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'shop/css/shop.css' %}" />
{% endblock %}

{% block content %}
  <!-- Hero Image -->
  <div id="hero-image"></div>

  <!-- Content Section -->
  <div class="container mt-5 mb-5 content-section">
    <!-- Product Details -->
    <div class="row mt-4">
      <div class="col-md-8">
        <h1>Cyprus Bouldering Guide Book</h1>
        <p class="roboto-mono">Discover the best bouldering spots in Cyprus with this comprehensive guide book. Packed with essential information: detailed maps, directions to sectors, route descriptions, and stunning photography.</p>
        <p class="roboto-mono">This guidebook includes over 700 boulder problems ranging from Font 3 to 8A, located around Akamas National Park and the Inia/Droushia villages of Paphos.</p>
        <h3>â‚¬32.00</h3>

        <!-- Quantity Selector & Add to Cart -->
        <div class="d-flex align-items-center mt-3 p-1">
          <form action="" method="post">
            {% csrf_token %}
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" value="1" min="1" />
            <button type="submit" class="button-small">Add to Cart</button>
          </form>
        </div>
      </div>

      <!-- Sneak Peek Gallery -->
      <div class="col-md-4">
        <h4>Gallery</h4>
        <div class="d-flex flex-wrap">
          {% for image in product.gallery_images.all %}
            <img src="{{ image.image.url }}" alt="Gallery Image" class="img-thumbnail m-1" style="width: 100px; height: 100px; cursor: pointer;" onclick="openModal({{ forloop.counter0 }})" />
          {% endfor %}
        </div>
      </div>
    </div>
  </div>

  <!-- Hero Image 2-->
  <div id="hero-image2"></div>

  <!-- Modal Slideshow -->
  <div id="galleryModal" class="modal fade" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Gallery</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center">
          <img id="modalImage" src="" class="img-fluid" />
        </div>
        <div class="modal-footer">
          <button onclick="prevImage()" class="btn btn-secondary">Previous</button>
          <button onclick="nextImage()" class="btn btn-secondary">Next</button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
