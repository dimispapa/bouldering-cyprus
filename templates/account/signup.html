{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block extra_title %}
  Sign Up
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/accounts.css' %}" />
{% endblock %}

{% block content %}
  {% include 'partials/rock-background.html' %}
  <div class="container">
    <div class="auth-container">
      <h1>{% trans 'Sign Up' %}</h1>

      <form class="signup" id="signup_form" method="post" action="{% url 'account_signup' %}">
        {% csrf_token %}

        {% if form.errors %}
          <div class="alert alert-danger">
            <p>
              {% trans 'Please correct the errors below:' %}
            </p>
            {{ form.non_field_errors }}
          </div>
        {% endif %}

        <div class="form-group">
          <label for="id_email">{% trans 'Email' %}:</label>
          <input type="email" name="email" placeholder="{% trans 'Email address' %}" autocomplete="email" required id="id_email" class="form-control" />
          {{ form.email.errors }}
        </div>

        <div class="form-group">
          <label for="id_password1">{% trans 'Password' %}:</label>
          <input type="password" name="password1" placeholder="{% trans 'Password' %}" autocomplete="new-password" required id="id_password1" class="form-control" />
          {{ form.password1.errors }}
        </div>

        <div class="form-group">
          <label for="id_password2">{% trans 'Password (again)' %}:</label>
          <input type="password" name="password2" placeholder="{% trans 'Password (again)' %}" autocomplete="new-password" required id="id_password2" class="form-control" />
          {{ form.password2.errors }}
        </div>

        <!-- Newsletter Opt-in -->
        <div class="form-group form-check">
          <input type="checkbox" name="newsletter_opt_in" id="id_newsletter_opt_in" class="form-check-input" checked />
          <label class="form-check-label" for="id_newsletter_opt_in">{% trans 'Subscribe to our newsletter to receive updates about new bouldering spots and special offers.' %}</label>
        </div>

        {% if redirect_field_value %}
          <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
        {% endif %}

        <button class="button-very-small w-100" type="submit">{% trans 'Sign Up' %}</button>
      </form>

      <div class="auth-links">
        <p>
          {% trans 'Already have an account?' %} <a href="{% url 'account_login' %}">{% trans 'Sign In' %}</a>
        </p>
      </div>
    </div>
  </div>
{% endblock %}
